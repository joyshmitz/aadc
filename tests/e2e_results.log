================================================================================
AADC E2E Test Results
================================================================================
Run Time:    2026-02-02 12:05:39
Host:        SenseDemoBox
Directory:   /data/projects/aadc
Filter:      (none)
Verbose:     false
================================================================================

[12:05:39] [INFO] Building aadc in release mode...

--- Build Output ---
    Finished `release` profile [optimized] target(s) in 0.09s
[12:05:39] [PASS] Build successful
[12:05:39] [INFO] Starting test suites...
[12:05:39] [SUITE] Running: cargo unit tests

--- Cargo Tests ---
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.09s
     Running unittests src/main.rs (target/debug/deps/aadc-ca9450bbddb90334)

running 208 tests
test tests::test_analyze_line_blank ... ok
test tests::test_analyze_line_no_suffix_border ... ok
test tests::test_analyze_line_indented ... ok
test tests::test_analyze_line_strong_with_border ... ok
test tests::test_analyze_line_unicode_border ... ok
test tests::test_args_backup_custom_ext ... ok
test tests::test_args_config_file_option ... ok
test tests::test_args_backup ... ok
test tests::test_args_defaults ... ok
test tests::test_args_custom ... ok
test tests::test_args_dry_run ... ok
test tests::test_args_json ... ok
test tests::test_args_dry_run_with_verbose ... ok
test tests::test_args_dry_run_with_diff ... ok
test tests::test_args_dry_run_long ... ok
test tests::test_args_lines_multiple_ranges ... ok
test tests::test_args_multiple_files ... ok
test tests::test_args_lines_parsing ... ok
test tests::test_block_overlaps_ranges ... ok
test tests::test_args_no_config_option ... ok
test tests::test_classify_line_blank_empty ... ok
test tests::test_classify_line_blank_mixed_whitespace ... ok
test tests::test_classify_line_blank_spaces ... ok
test tests::test_classify_line_blank_tabs ... ok
test tests::test_args_preset_relaxed ... ok
test tests::test_classify_line_none_numbers ... ok
test tests::test_args_multiple_files_with_inplace ... ok
test tests::test_classify_line_none_plain_text ... ok
test tests::test_args_preset_conflicts_with_min_score ... ok
test tests::test_args_preset_long ... ok
test tests::test_args_recursive_custom ... ok
test tests::test_classify_line_none_punctuation ... ok
test tests::test_classify_line_strong_ascii_corners ... ok
test tests::test_args_preset_short ... ok
test tests::test_classify_line_strong_border_both_sides ... ok
test tests::test_classify_line_strong_high_ratio ... ok
test tests::test_args_recursive_defaults ... ok
test tests::test_classify_line_strong_unicode_light ... ok
test tests::test_classify_line_strong_unicode_double ... ok
test tests::test_classify_line_weak_few_box_chars ... ok
test tests::test_classify_line_weak_single_border ... ok
test tests::test_correct_lines_all_blocks_bypasses_quick_scan ... ok
test tests::test_correct_lines_passthrough_skips_tabs ... ok
test tests::test_correction_empty_input ... ok
test tests::test_correction_already_aligned ... ok
test tests::test_correct_lines_with_ranges ... ok
test tests::test_correction_max_iters_limit ... ok
test tests::test_config_subcommand_init_global ... ok
test tests::test_correction_min_score_filter ... ok
test tests::test_config_subcommand_parsing ... ok
test tests::test_correction_multiple_blocks ... ok
test tests::test_config_subcommand_path ... ok
test tests::test_correction_no_diagrams ... ok
test tests::test_correction_preserves_non_diagram_content ... ok
test tests::test_config_subcommand_show ... ok
test tests::test_correction_simple ... ok
test tests::test_correction_with_tabs ... ok
test tests::test_correction_unicode ... ok
test tests::test_create_backup ... ok
test tests::test_create_backup_preserves_extension ... ok
test tests::test_create_backup_custom_extension ... ok
test tests::test_default_hook_is_check_mode ... ok
test tests::test_detect_suffix_border ... ok
test tests::test_detect_suffix_border_ascii_pipe ... ok
test tests::test_detect_suffix_border_column_position ... ok
test tests::test_detect_suffix_border_corner ... ok
test tests::test_detect_suffix_border_junction ... ok
test tests::test_detect_suffix_border_none_empty ... ok
test tests::test_detect_suffix_border_none_no_border ... ok
test tests::test_detect_suffix_border_trailing_spaces ... ok
test tests::test_create_config_explicit_file_not_found ... ok
test tests::test_detect_suffix_border_unicode_corner ... ok
test tests::test_create_config_no_config_flag ... ok
test tests::test_detect_suffix_border_unicode_light ... ok
test tests::test_detect_vertical_border_ascii ... ok
test tests::test_detect_vertical_border_empty_defaults_to_ascii ... ok
test tests::test_detect_vertical_border_mixed_prefers_most_common ... ok
test tests::test_create_config_explicit_file ... ok
test tests::test_detect_vertical_border_no_borders_defaults_to_ascii ... ok
test tests::test_create_config_cli_overrides_file ... ok
test tests::test_create_config_preset_from_file ... ok
test tests::test_detect_vertical_border_unicode_light ... ok
test tests::test_detect_vertical_border_unicode_double ... ok
test tests::test_effective_min_score_with_preset ... ok
test tests::test_effective_min_score_without_preset ... ok
test tests::test_expand_tabs_empty ... ok
test tests::test_expand_tabs_middle_of_line ... ok
test tests::test_expand_tabs_multiple ... ok
test tests::test_expand_tabs_no_tabs ... ok
test tests::test_discover_recursive_files_glob_matching ... ok
test tests::test_discover_recursive_files_max_depth ... ok
test tests::test_expand_tabs_start_of_line ... ok
test tests::test_expand_tabs_width_2 ... ok
test tests::test_expand_tabs_width_8 ... ok
test tests::test_expand_tabs_with_cjk ... ok
test tests::test_find_config_file_alternative_names ... ok
test tests::test_find_config_file_in_current_dir ... ok
test tests::test_find_diagram_blocks_all_flag ... ok
test tests::test_find_config_file_not_found ... ok
test tests::test_find_config_file_in_parent_dir ... ok
test tests::test_find_diagram_blocks_at_end ... ok
test tests::test_find_diagram_blocks_at_start ... ok
test tests::test_find_diagram_blocks_confidence_high ... ok
test tests::test_find_diagram_blocks_empty_input ... ok
test tests::test_find_diagram_blocks_large_gap_splits ... ok
test tests::test_find_diagram_blocks_multiple ... ok
test tests::test_find_diagram_blocks_no_diagrams ... ok
test tests::test_find_diagram_blocks_only_blanks ... ok
test tests::test_find_diagram_blocks_simple ... ok
test tests::test_find_diagram_blocks_trims_trailing_blank ... ok
test tests::test_find_diagram_blocks_unicode ... ok
test tests::test_find_diagram_blocks_with_blank_gap ... ok
test tests::test_find_git_dir_in_repo ... ok
test tests::test_format_line_ranges ... ok
test tests::test_find_git_dir_not_in_repo ... ok
test tests::test_format_line_ranges_open_ended ... ok
test tests::test_generate_autofix_hook ... ok
test tests::test_generate_check_hook ... ok
test tests::test_hook_install_autofix_mode ... ok
test tests::test_hook_patterns ... ok
test tests::test_hook_install_backs_up_existing ... ok
test tests::test_hook_install_creates_hook ... ok
test tests::test_hook_install_custom_patterns ... ok
test tests::test_discover_recursive_files_respects_gitignore ... ok
test tests::test_invalid_range_non_numeric ... ok
test tests::test_invalid_range_reversed ... ok
test tests::test_hook_subcommand_install_autofix ... ok
test tests::test_invalid_range_zero ... ok
test tests::test_hook_uninstall_refuses_non_aadc_hook ... ok
test tests::test_hook_subcommand_install_check_only ... ok
test tests::test_is_border_char_corners ... ok
test tests::test_hook_status_no_hook ... ok
test tests::test_is_border_char_junctions ... ok
test tests::test_is_border_char_negative ... ok
test tests::test_hook_subcommand_status ... ok
test tests::test_hook_subcommand_parsing ... ok
test tests::test_hook_uninstall_removes_aadc_hook ... ok
test tests::test_is_border_char_verticals ... ok
test tests::test_hook_subcommand_uninstall ... ok
test tests::test_is_box_char_corners ... ok
test tests::test_is_box_char_horizontals ... ok
test tests::test_is_box_char_junctions ... ok
test tests::test_is_box_char_negative ... ok
test tests::test_is_box_char_verticals ... ok
test tests::test_is_corner_ascii ... ok
test tests::test_is_corner_double ... ok
test tests::test_is_corner_light ... ok
test tests::test_is_corner_negative ... ok
test tests::test_is_corner_rounded ... ok
test tests::test_is_horizontal_fill_ascii ... ok
test tests::test_is_horizontal_fill_double ... ok
test tests::test_is_horizontal_fill_heavy ... ok
test tests::test_is_horizontal_fill_light ... ok
test tests::test_is_horizontal_fill_negative ... ok
test tests::test_is_junction_double ... ok
test tests::test_is_junction_light ... ok
test tests::test_is_junction_mixed ... ok
test tests::test_is_junction_negative ... ok
test tests::test_is_vertical_border_ascii ... ok
test tests::test_is_vertical_border_double ... ok
test tests::test_is_vertical_border_heavy ... ok
test tests::test_is_vertical_border_light ... ok
test tests::test_is_vertical_border_negative ... ok
test tests::test_json_output_dry_run_status ... ok
test tests::test_json_output_structure ... ok
test tests::test_line_in_ranges ... ok
test tests::test_load_config_file_empty ... ok
test tests::test_load_config_file_basic ... ok
test tests::test_load_config_file_invalid_toml ... ok
test tests::test_load_config_file_invalid_preset ... ok
test tests::test_load_config_file_all_options ... ok
test tests::test_merge_adjacent_ranges ... ok
test tests::test_merge_overlapping_ranges ... ok
test tests::test_load_config_file_with_preset ... ok
test tests::test_parse_multiple_ranges ... ok
test tests::test_parse_open_ended_end ... ok
test tests::test_load_config_file_unknown_keys_tolerated ... ok
test tests::test_parse_open_ended_start ... ok
test tests::test_parse_simple_range ... ok
test tests::test_parse_single_line ... ok
test tests::test_quick_scan_plain_text ... ok
test tests::test_quick_scan_with_diagram_lines ... ok
test tests::test_quick_scan_threshold_boundary ... ok
test tests::test_revision_apply_add_border_ascii ... ok
test tests::test_revision_apply_add_border_no_extra_padding ... ok
test tests::test_revision_apply_add_border_unicode ... ok
test tests::test_revision_apply_add_corner ... ok
test tests::test_revision_apply_pad_ascii ... ok
test tests::test_revision_apply_pad_corner ... ok
test tests::test_revision_apply_pad_preserves_other_lines ... ok
test tests::test_revision_apply_pad_unicode ... ok
test tests::test_revision_score_add_border_base ... ok
test tests::test_revision_score_add_border_strong_line ... ok
test tests::test_revision_score_pad_large_adjustment ... ok
test tests::test_revision_score_pad_small_adjustment ... ok
test tests::test_revision_score_pad_strong_line_bonus ... ok
test tests::test_revision_score_with_block_offset ... ok
test tests::test_validate_args_in_place_requires_file ... ok
test tests::test_validate_args_max_iters_zero ... ok
test tests::test_validate_args_min_score_bounds ... ok
test tests::test_validate_args_recursive_requires_path ... ok
test tests::test_validate_args_tab_width_bounds ... ok
test tests::test_visual_width_ascii ... ok
test tests::test_visual_width_box_and_cjk ... ok
test tests::test_visual_width_box_chars ... ok
test tests::test_visual_width_cjk ... ok
test tests::test_visual_width_empty ... ok
test tests::test_visual_width_mixed_ascii_cjk ... ok

test result: ok. 208 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.02s

     Running tests/integration.rs (target/debug/deps/integration-37991423956330cd)

running 27 tests
test test_e2e_binary_file_detection ... ok
test test_e2e_exit_code_invalid_tab_width_too_large ... ok
test test_e2e_diff_mode_with_changes ... ok
test test_e2e_basic_ascii_correction ... ok
test test_e2e_exit_code_dry_run_no_changes ... ok
test test_e2e_cjk_content ... ok
test test_e2e_exit_code_dry_run_would_change ... ok
test test_e2e_empty_input ... ok
test test_e2e_exit_code_invalid_utf8 ... ok
test test_e2e_exit_code_success ... ok
test test_e2e_max_iterations ... ok
test test_e2e_diff_mode_no_changes ... ok
test test_e2e_exit_code_invalid_tab_width_zero ... ok
test test_e2e_exit_code_nonexistent_file ... ok
test test_e2e_high_max_iters_warning ... ok
test test_e2e_multiple_diagrams ... ok
test test_e2e_multiple_files ... ok
test test_e2e_nested_boxes ... ok
test test_e2e_process_all_flag ... ok
test test_e2e_no_diagrams ... ok
test test_e2e_verbose_mode ... ok
test test_e2e_min_score_threshold ... ok
test test_e2e_whitespace_only ... ok
test test_e2e_unicode_box_correction ... ok
test test_e2e_recursive_in_place ... ok
test test_e2e_recursive_respects_gitignore ... ok
test test_e2e_valid_tab_width_edge_cases ... ok

test result: ok. 27 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.03s

[12:05:39] [PASS] Cargo tests: 27 passed (0s)
[12:05:39] [SUITE] Running: e2e_basic_cli

--- Suite: e2e_basic_cli ---
Building aadc...

=== STDIN/STDOUT TESTS ===
[1;33mTEST[0m: Reading from stdin, writing to stdout
[0;32mPASS[0m: stdin â†’ stdout works correctly
[1;33mTEST[0m: Empty stdin produces empty stdout
[0;32mPASS[0m: Empty stdin â†’ empty stdout
[1;33mTEST[0m: Stdin with no diagrams passes through unchanged
[0;32mPASS[0m: Non-diagram content passes through unchanged

=== FILE INPUT TESTS ===
[1;33mTEST[0m: Reading from file argument
[0;32mPASS[0m: File input works correctly
[1;33mTEST[0m: Reading Unicode file
[0;32mPASS[0m: Unicode file input works correctly
[1;33mTEST[0m: Reading large file (100+ lines)
[0;32mPASS[0m: Large file input works correctly

=== IN-PLACE EDITING TESTS ===
[1;33mTEST[0m: In-place editing with -i flag
[0;32mPASS[0m: In-place editing works correctly
[1;33mTEST[0m: In-place editing with --in-place flag
[0;32mPASS[0m: In-place editing with --in-place works
[1;33mTEST[0m: In-place editing preserves file when no changes needed
[0;32mPASS[0m: In-place editing preserves unchanged files

=== EXIT CODE TESTS ===
[1;33mTEST[0m: Exit code 0 on success (stdin)
[0;32mPASS[0m: Exit code 0 on successful stdin processing
[1;33mTEST[0m: Exit code 0 on success (file)
[0;32mPASS[0m: Exit code 0 on successful file processing
[1;33mTEST[0m: Exit code 0 on empty input
[0;32mPASS[0m: Exit code 0 on empty input
[1;33mTEST[0m: Exit code 0 on dry-run when no changes needed
[0;32mPASS[0m: Dry-run returns 0 when no changes needed
[1;33mTEST[0m: Exit code 3 on dry-run when changes would be made
[0;32mPASS[0m: Dry-run returns 3 when changes would be made

=== ERROR HANDLING TESTS ===
[1;33mTEST[0m: Non-zero exit code for non-existent file
[0;32mPASS[0m: Non-zero exit code for non-existent file
[1;33mTEST[0m: Error message for non-existent file
[0;32mPASS[0m: Helpful error message for non-existent file
[1;33mTEST[0m: Exit code 4 for invalid UTF-8 input
[0;32mPASS[0m: Exit code 4 for invalid UTF-8 input
[1;33mTEST[0m: In-place editing requires file argument
[0;32mPASS[0m: In-place with stdin handled (behavior documented)

============================================
SUMMARY: [0;32m18 passed[0m, [0;31m0 failed[0m
============================================

[12:05:40] [PASS] Suite e2e_basic_cli: 18 passed, 0 failed (1s)
[12:05:40] [SUITE] Running: e2e_cli_options

--- Suite: e2e_cli_options ---
Building aadc...

=== --max-iters TESTS ===
[1;33mTEST[0m: --max-iters default (10)
[0;32mPASS[0m: --max-iters default works
[1;33mTEST[0m: --max-iters 1 (may not fully converge)
[0;32mPASS[0m: --max-iters 1 produces output
[1;33mTEST[0m: --max-iters with short flag -m
[0;32mPASS[0m: -m short flag works

=== --min-score TESTS ===
[1;33mTEST[0m: --min-score 0.1 (aggressive - more corrections)
[0;32mPASS[0m: --min-score 0.1 works
[1;33mTEST[0m: --min-score 0.9 (conservative - fewer corrections)
[0;32mPASS[0m: --min-score 0.9 works
[1;33mTEST[0m: --min-score with short flag -s
[0;32mPASS[0m: -s short flag works

=== --tab-width TESTS ===
[1;33mTEST[0m: --tab-width 4 (default)
[0;32mPASS[0m: --tab-width 4 works
[1;33mTEST[0m: --tab-width 2
[0;32mPASS[0m: --tab-width 2 works
[1;33mTEST[0m: --tab-width with short flag -t
[0;32mPASS[0m: -t short flag works

=== --all TESTS ===
[1;33mTEST[0m: --all processes low-confidence blocks
[0;32mPASS[0m: --all flag works
[1;33mTEST[0m: --all with short flag -a
[0;32mPASS[0m: -a short flag works

=== --verbose TESTS ===
[1;33mTEST[0m: --verbose outputs progress information
[0;32mPASS[0m: --verbose shows progress info
[1;33mTEST[0m: --verbose with short flag -v
[0;32mPASS[0m: -v short flag works
[1;33mTEST[0m: --verbose with multiple blocks
[0;32mPASS[0m: --verbose with multiple blocks works

=== COMBINED OPTIONS TESTS ===
[1;33mTEST[0m: Multiple options combined
[0;32mPASS[0m: Multiple options work together
[1;33mTEST[0m: All options with file input
[0;32mPASS[0m: All options with file input work
[1;33mTEST[0m: In-place with options
[0;32mPASS[0m: In-place editing with options works

============================================
SUMMARY: [0;32m17 passed[0m, [0;31m0 failed[0m
============================================

[12:05:40] [PASS] Suite e2e_cli_options: 17 passed, 0 failed (0s)
[12:05:40] [SUITE] Running: e2e_fixtures

--- Suite: e2e_fixtures ---
Building aadc...

=== ASCII FIXTURES ===
[1;33mTEST[0m: ascii/nested_boxes
[0;32mPASS[0m: ascii/nested_boxes
[1;33mTEST[0m: ascii/simple_box
[0;32mPASS[0m: ascii/simple_box

=== EDGE_CASES FIXTURES ===
[1;33mTEST[0m: edge_cases/already_aligned
[0;32mPASS[0m: edge_cases/already_aligned
[1;33mTEST[0m: edge_cases/empty
[0;32mPASS[0m: edge_cases/empty
[1;33mTEST[0m: edge_cases/malformed
[0;32mPASS[0m: edge_cases/malformed
[1;33mTEST[0m: edge_cases/no_diagrams
[0;32mPASS[0m: edge_cases/no_diagrams
[1;33mTEST[0m: edge_cases/single_line
[0;32mPASS[0m: edge_cases/single_line
[1;33mTEST[0m: edge_cases/tabs
[0;32mPASS[0m: edge_cases/tabs
[1;33mTEST[0m: edge_cases/whitespace_only
[0;32mPASS[0m: edge_cases/whitespace_only

=== LARGE FIXTURES ===
[1;33mTEST[0m: large/100_lines
[0;32mPASS[0m: large/100_lines
[1;33mTEST[0m: large/cjk_content
[0;32mPASS[0m: large/cjk_content

=== MIXED FIXTURES ===
[1;33mTEST[0m: mixed/multiple_diagrams
[0;32mPASS[0m: mixed/multiple_diagrams
[1;33mTEST[0m: mixed/prose_with_diagram
[0;32mPASS[0m: mixed/prose_with_diagram

=== UNICODE FIXTURES ===
[1;33mTEST[0m: unicode/double_borders
[0;32mPASS[0m: unicode/double_borders
[1;33mTEST[0m: unicode/heavy_borders
[0;32mPASS[0m: unicode/heavy_borders
[1;33mTEST[0m: unicode/light_borders
[0;32mPASS[0m: unicode/light_borders
[1;33mTEST[0m: unicode/rounded_corners
[0;32mPASS[0m: unicode/rounded_corners

=== DIFF FLAG TESTS ===
[1;33mTEST[0m: Diff: outputs unified diff when changes made
[0;32mPASS[0m: Diff: outputs unified diff when changes made
[1;33mTEST[0m: Diff: no output when no changes
[0;32mPASS[0m: Diff: no output when no changes
[1;33mTEST[0m: Diff: works with -v verbose flag
[0;32mPASS[0m: Diff: works with -v verbose flag

============================================
SUMMARY: [0;32m20 passed[0m, [0;31m0 failed[0m
============================================

[12:05:40] [PASS] Suite e2e_fixtures: 20 passed, 0 failed (0s)
[12:05:40] [RESULT] E2E Test Results Summary
[12:05:40] [RESULT]   Total Passed:  82
[12:05:40] [RESULT]   Total Failed:  0
[12:05:40] [RESULT]   Total Skipped: 0

================================================================================
FINAL SUMMARY
================================================================================
Total Passed:  82
Total Failed:  0
Total Skipped: 0
Overall Exit:  0
================================================================================
[12:05:40] [RESULT] All tests passed!
